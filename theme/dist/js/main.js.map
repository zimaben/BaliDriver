{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./theme/src/js/frontend/global.js","webpack:///./theme/src/js/head.js"],"names":["doDismiss","event","dismissable","document","querySelectorAll","protectedlist","target","item","dismiss","plitem","classList","remove","mobileExpand","button","header","closest","body","querySelector","mobilemenu","dataset","menuTarget","getElementById","toggle","contains","add","setTimeout","mm","mobileMenuClick","menuClick","li","tagName","menuitems","getElementsByClassName","stopPropagation","doMenuClicks","menuitem","addEventListener","doMobileMenuClick","burger","bg","accordionClick","title","parent","panel","style","maxHeight","scrollHeight","doAccordionClicks","accordions","length","accordion","sendit","location","senddata","settings","method","headers","fetch","fetchResponse","json","receivedata","console","log","pageHeaderVideo","phv","hasSource","getElementsByTagName","vw","Math","max","documentElement","clientWidth","window","innerWidth","source","mobileSource","desktopSource","el","createElement","extension","split","Array","isArray","type","setAttribute","appendChild","onloadeddata","holder","width","height","clientHeight","doProgressiveHeader","canvas","id","aspectbox","aspectMultiplier","round","leftcrop_px","leftcrop_pct","expectedWidth","gridwidth","startingresolution","ctx","getContext","clearRect","background","Image","blurlevel","src","getAttribute","onload","filter","sizeMultiplier","naturalWidth","drawheight","min","naturalHeight","drawImage","updateImage","currentresolution","counter","Promise","resolve","reject","nextresolution","parseInt","nextimage","checklast","moreimg","hasAttribute","currentimg","onload_data_fetch","fetchable","url","theme_vars","ajaxurl","nonce","from","map","dofetch","posttype","fetchPosttype","fetchTarget","filters","get_filters","fetchAction","response_target","then","r","status","innerHTML","payload","postit","setupModals","links","link","e","modalLink","targetelement","clone","cloneNode","md","tingle","modal","closeMethods","closeLabel","cssClass","onOpen","onClose","beforeClose","setContent","open","play"],"mappings":"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","file":"js/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./theme/src/js/head.js\");\n","/* STILL NEED TO FINISH THESE */\nexport const doDismiss = (event) => {\n    let dismissable = document.querySelectorAll(\".active.dismissable\");\n    let protectedlist = event.target.querySelectorAll(\".active.dismissable\");\n    for(let item of dismissable){\n      let dismiss = true;\n      for(let plitem of protectedlist){\n        if(plitem === item) dismiss = false;\n      }\n      if(dismiss) item.classList.remove(\"active\", \"dismissable\");\n    }\n  }\n  export const mobileExpand = (event) => {\n    let button = event.target;\n    let header = button.closest(\"HEADER\");\n    let body = document.querySelector(\"BODY\");\n    let mobilemenu = button.dataset.menuTarget ? document.getElementById(button.dataset.menuTarget) : false;\n    if(mobilemenu){\n      //lock body scroll. see layout css\n      body.classList.toggle(\"mobile-menu-expanded\");\n      if(!mobilemenu.classList.contains(\"active\")){\n        //first time popping menu;\n        mobilemenu.classList.add(\"active\");\n        mobilemenu.classList.add(\"slidein\");\n        mobilemenu.classList.remove(\"slideout\");\n      } else {\n        //timeout to remove active class;\n        mobilemenu.classList.add(\"slideout\");\n        mobilemenu.classList.remove(\"slidein\");\n        setTimeout( ()=> {\n          let mm = document.querySelector('.slideout');\n          mm.classList.remove(\"active\");\n        }, 400);\n      }\n    } \n  }\n const mobileMenuClick = event => {\n  \n    let button = event.target;\n    let header = button.closest(\"HEADER\");\n    let body = document.querySelector(\"BODY\");\n    let mobilemenu = header.querySelector('.mobile-menu');\n    if(mobilemenu){\n      body.classList.toggle(\"mobile-menu-expanded\");\n      mobilemenu.classList.toggle(\"active\");\n      if(mobilemenu.classList.contains(\"active\")){\n        mobilemenu.classList.remove(\"slideout\");\n        mobilemenu.classList.add(\"slidein\");\n      } else {\n        mobilemenu.classList.remove(\"slidein\");\n        mobilemenu.classList.add(\"slideout\");\n      }\n    } \n  }\n  \n  export const menuClick = (event) => {\n    let li = event.target.tagName === \"LI\" ? event.target : event.target.closest(\"LI\");\n    let menuitems = document.getElementsByClassName('menu-item');\n    for(let item of menuitems){\n      if(item === li){\n        if(li.classList.contains(\"active\")){\n          li.classList.remove(\"active\");\n          li.classList.remove(\"dismissable\");\n        } else {\n          li.classList.add(\"active\");\n          li.classList.add(\"dismissable\");\n          event.stopPropagation();\n        }\n      } else {\n        item.classList.remove(\"active\");\n        item.classList.remove(\"dismissable\");\n  \n      }\n    }\n  }\n  \n  export const doMenuClicks = () => {\n    let menuitems = document.getElementsByClassName('menu-item');\n    for(let menuitem of menuitems) menuitem.addEventListener('click', menuClick);\n  \n  }\n  export const doMobileMenuClick = () => {\n    let burger = document.querySelectorAll('.hamburger-menu.mobile-only');\n    if(burger){\n      for(let bg of burger) bg.addEventListener('click', mobileMenuClick );\n    }\n  }\n  \n  export const accordionClick = (event) => {\n    //just in case the plus icon is clicked on this event should cover both with bubbling\n    let title = event.target.tagName === \"H4\" ? event.target : event.target.closest(\"H4\");\n    let parent = title.closest(\".tpt-accordion\");\n    let panel = parent ? parent.querySelector(\".tpt-accordion-panel\") : false;\n    if(title && panel){\n  \n      title.classList.toggle(\"expanded\");\n      if(panel.style.maxHeight){\n        panel.style.maxHeight = null;\n      } else {\n        panel.style.maxHeight = panel.scrollHeight + \"px\";\n      }\n    }\n  }\n  \n  export const doAccordionClicks = () => {\n    let accordions = document.getElementsByClassName(\"tpt-accordion\");\n    if(accordions.length){\n      for(let accordion of accordions){\n        let title = accordion.querySelector(\".accordion\");\n        title.addEventListener('click', accordionClick );\n      }\n    }\n  }\n  \n  export const sendit = async(location, senddata ) => {\n    const settings = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n        },\n        body:senddata\n    };\n    try {\n        const fetchResponse = await fetch(location, settings);\n        const receivedata = await fetchResponse.json();\n        return receivedata;\n    } catch (e) {\n        console.log(e);\n        return e;\n    } \n  }","import { menuClick, doMenuClicks, mobileExpand, accordionClick, doAccordionClicks } from './frontend/global.js';\n\nconst pageHeaderVideo = () => {\n\n  let phv = document.getElementById('pageheadervideo');\n  if(phv){\n    let hasSource = phv.getElementsByTagName('SOURCE');\n    //if(hasSource.length === 0){\n      const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n      let source = (vw < 768) ? phv.dataset.mobileSource : phv.dataset.desktopSource;\n      let el = document.createElement('source');\n      let extension = source.split('.');\n      extension = Array.isArray(extension) ? extension[ extension.length - 1 ] : false;\n      let type = 'video/mp4';\n      if(extension !== 'mp4'){\n        //only ogg and webm will benefit from not having an mp4 tag\n        //.mov, .qt, and all other unsupported video types may use the same codec as mp4 \n        // and not need conversion\n        if(extension == 'ogg') type = 'video/ogg';\n        if(extension == 'webm') type = 'video/webm';\n      }\n      el.setAttribute('type',type);\n      el.setAttribute('src', source);\n      phv.appendChild(el);\n      phv.onloadeddata=function(){\n        let holder = phv.closest('.hero-holder');\n        if(holder){\n          phv.width = holder.clientWidth;\n          phv.height = holder.clientHeight;\n        }\n      }\n      phv.setAttribute('src', source);\n\n    //} else {console.log(hasSource)}\n  }\n\n}\nconst doProgressiveHeader = (canvas) =>{\n    if(!canvas.tagName || canvas.tagName !== \"CANVAS\") {\n        canvas = canvas.querySelector('canvas');\n        if(!canvas) return;\n    }\n    let header = canvas.closest('.hero-holder');\n    if(canvas.id === \"pageheader-0\"){\n      header.classList.add('notfound');\n      return;\n    }\n    //get viewport width;\n    const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n    //get proper aspect ratio\n    /* The theory here is we have a \"fill box\" that always has the proper aspect ratio for each\n    post type header. This fill box will match at desktop resolutions, but at mobile resolutions\n    where the image gets a new aspect ratio thanks to minimum height it will be smaller.  \n    Instead of wasting server resources and bandwidth cropping and storing a new image, we re-crop the image by looking\n    by drawing the picture as big as it should be at current height and crop left appropriately\n    so the image is not stretched. */\n    let aspectbox = document.querySelector('.aspectRatioPlaceholder');\n    aspectbox = aspectbox ? aspectbox.querySelector('.aspect-ratio-fill') : false;\n    let aspectMultiplier = aspectbox ?  aspectbox.clientWidth / aspectbox.clientHeight : false;\n    \n    canvas.height = header.clientHeight;\n    canvas.width = header.clientWidth;\n\n    if(aspectMultiplier){\n      if(Math.round(canvas.width) < (Math.round( canvas.height * aspectMultiplier)) ){\n        //the aspect ratio of the canvas does not match the aspect ratio of the image\n        //cropping is necessary\n\n        leftcrop_px = ((canvas.height * aspectMultiplier) - canvas.width) / 2;\n        leftcrop_pct = Math.round( leftcrop_px / (canvas.height * aspectMultiplier) * 100 ) / 100;\n\n      } else{\n\n        aspectMultiplier = false;\n        leftcrop_pct = 0;\n      }\n    } \n    let expectedWidth = aspectMultiplier ? canvas.height * aspectMultiplier : false;\n\n    let gridwidth = 1512; //width of the design grid - change this per project\n    let startingresolution = Math.round(gridwidth / 4); \n    let ctx = canvas.getContext('2d');\n    ctx.clearRect(0,0, canvas.width, canvas.height);\n    var background = new Image();\n    let blurlevel = 25;\n    //serve blurred thumbnail first then load full image \n    background.src = canvas.getAttribute('data-img-src-1');\n    background.onload = function(){\n      ctx.filter = 'blur('+blurlevel+'px)';\n      let sizeMultiplier = expectedWidth ? background.naturalWidth / expectedWidth : false;\n      let drawheight = sizeMultiplier ? canvas.height * sizeMultiplier : Math.min(canvas.height,background.naturalHeight);\n      if(sizeMultiplier){\n        ctx.drawImage(background, background.naturalWidth * leftcrop_pct, 0, canvas.width * sizeMultiplier, drawheight, 0,0, canvas.width, canvas.height);\n      } else {\n        ctx.drawImage(background, 0,0,canvas.width, canvas.height);\n      }\n      \n      ctx.filter = 'none';\n        //now we have something on the page lets get it into focus\n        updateImage(canvas, ctx, startingresolution, 2, 25, aspectMultiplier, leftcrop_pct, expectedWidth);\n    }\n    //fire off video\n    pageHeaderVideo();\n  }\n  \nconst updateImage = (canvas, ctx, currentresolution = null, counter = null, blurlevel, aspectMultiplier = null, leftcrop_pct, expectedWidth) => {\n\n    return new Promise((resolve, reject) => {\n\n      if(!currentresolution) reject('Must have a resolution');\n      if(!ctx) ctx = canvas.getContext('2d');\n      if(!counter) counter = 1;\n      const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n      if(currentresolution < vw){\n\n        let nextresolution = parseInt(canvas.getAttribute('data-img-size-'+counter));\n        let nextimage = canvas.getAttribute('data-img-src-'+counter);\n        let checklast = 'data-img-size-'+(counter+1);\n        if(nextresolution && nextimage){\n          let moreimg = canvas.hasAttribute(checklast);\n\n          blurlevel = moreimg ? Math.round(blurlevel * .5 ) : 0;\n          background = new Image();\n          background.src = nextimage;\n          background.onload = function(){\n            ctx.filter = blurlevel ? 'blur('+blurlevel+'px)' : 'none';\n            if(aspectMultiplier){\n              \n              let sizeMultiplier = expectedWidth ? background.naturalWidth / expectedWidth : false;\n              let drawheight = sizeMultiplier ? canvas.height * sizeMultiplier : Math.min(canvas.height,background.naturalHeight);\n              if(sizeMultiplier){\n                \n                ctx.drawImage(background, background.naturalWidth * leftcrop_pct, 0, canvas.width * sizeMultiplier, drawheight, 0,0, canvas.width, canvas.height);\n              \n              } else {\n                ctx.drawImage(background,0,0, canvas.width, canvas.height);\n              }\n            } else {\n              ctx.drawImage(background,0,0, canvas.width, canvas.height);\n            }\n            \n            ctx.filter = 'none';\n            if(moreimg) {\n              //  recursive call\n              // setTimeout(() => {\n              //     updateImage(canvas, ctx, nextresolution, counter+1, blurlevel);\n              //     resolve();} , 1500);\n              updateImage(canvas, ctx, nextresolution, counter+1, blurlevel, aspectMultiplier, leftcrop_pct, expectedWidth);\n              resolve();\n            } else { \n                //the end of the line\n                resolve();\n            }\n          }\n        } else {\n        reject('something went wrong');\n        }\n\n      } else { \n        //final run - take off blur\n        console.log(\"expectedWidth\", expectedWidth)\n        currentimg = canvas.getAttribute( 'data-img-src-'+ counter );\n        background = new Image();\n        background.src = currentimg;\n        background.onload = function(){\n          ctx.filter = 'none;'\n          if(aspectMultiplier){\n            console.log('lastrun');\n            console.log(\"expectedWidth\", expectedWidth)\n            let sizeMultiplier = expectedWidth ? background.naturalWidth / expectedWidth : false;\n            console.log(\"sizeMultiplier\", sizeMultiplier);\n            let drawheight = sizeMultiplier ? canvas.height * sizeMultiplier : Math.min(canvas.height,background.naturalHeight);\n            console.log(\"drawheight\", drawheight);\n            console.log(\"startleft\", background.naturalWidth * leftcrop_pct)\n            if(sizeMultiplier){\n              \n              ctx.drawImage(background, background.naturalWidth * leftcrop_pct, 0, canvas.width * sizeMultiplier, drawheight, 0,0, canvas.width, canvas.height);\n            \n            } else {\n              ctx.drawImage(background,0,0, canvas.width, canvas.height);\n            }\n          } else {\n            ctx.drawImage(background,0,0, canvas.width, canvas.height);\n          }\n            resolve(); \n          }\n        }\n    });\n}\n\n\nconst onload_data_fetch = () => {\n  let fetchable = document.querySelectorAll('[data-fetch-posttype]');\n  if(! fetchable) {console.log(\"nothing fetchable\");return false;}\n\n  let url = window.theme_vars.ajaxurl;\n  let nonce = window.theme_vars.nonce;\n\n  if(!url || !nonce ) return false;\n  \n  Array.from(fetchable).map( (dofetch) => { \n\n    let posttype = dofetch.dataset.fetchPosttype;\n    let target = dofetch.dataset.fetchTarget;\n    let filters = get_filters(dofetch);\n    let senddata = '&nonce=' + nonce;\n    if( dofetch.hasAttribute('data-fetch-action') && dofetch.dataset.fetchAction ){\n      url+='?action=' + dofetch.dataset.fetchAction + '&nonce=' + nonce;\n      senddata+= filters ? '&' + filters : '';\n      let response_target = document.getElementById(target) ? document.getElementById(target) : dofetch.querySelector('.data-target');\n      if(!response_target) {console.log(\"no data target\"); return false;}\n      console.log(url, senddata);\n      sendit(url, senddata).then( (r)=>{\n          console.log(\"doing postit\");\n          if(r.status === 200){\n              console.log(r);\n              response_target.innerHTML = r.payload;\n          } else {\n              console.log(r);\n          }\n      });\n    } else {console.log('no data fetch action')};\n  });\n}\n/* Standard Wordpress POST request via native fetch using form-urlencoded data */\nconst postit = async(location, senddata ) => {\n  const settings = {\n      method: 'POST',\n      headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body:senddata\n  };\n  try {\n      const fetchResponse = await fetch(location, settings);\n      const receivedata = await fetchResponse.json();\n      return receivedata;\n  } catch (e) {\n      console.log(e);\n      return e;\n  } \n}\n\nconst setupModals = () => {\n  //tingle is the modal library I'm trying out\n  //https://tingle.robinparisi.com/\n  let links = document.querySelectorAll('[data-modal-link]');\n  if(links){\n    for(let link of links){\n      link.addEventListener('click', (e) =>{\n        let target = e.target.dataset.modalLink;\n        let targetelement = target ? document.getElementById(target) : false;\n        if(targetelement){\n            let clone = targetelement.cloneNode()\n\n            var md = new tingle.modal({\n              closeMethods: ['overlay', 'button', 'escape'],\n              closeLabel: \"X\",\n              cssClass: ['nopad'],\n              onOpen: function() {\n                  console.log('modal open');\n              },\n              onClose: function() {\n                  clone.remove();\n              },\n              beforeClose: function() {\n                  // here's goes some logic\n                  // e.g. save content before closing the modal\n                  return true; // close the modal\n                  return false; // nothing happens\n              }\n            });\n            \n            clone.setAttribute(\"controls\", \"controls\");\n            md.setContent( clone  );\n            md.open();\n            clone.play();\n        }\n      });\n    }\n  }\n}\n\n/* sorry webpack */\nwindow.setupModals = setupModals;\nwindow.postit = postit;\nwindow.onload_data_fetch = onload_data_fetch;\nwindow.doProgressiveHeader = doProgressiveHeader;\nwindow.updateImage = updateImage;\nwindow.accordionClick = accordionClick;\nwindow.doAccordionClicks = doAccordionClicks;\nwindow.menuClick = menuClick;\nwindow.doMenuClicks = doMenuClicks;\nwindow.mobileExpand = mobileExpand;\n//window.doMobileMenuClick = doMobileMenuClick;"],"sourceRoot":""}