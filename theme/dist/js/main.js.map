{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./theme/src/js/head.js"],"names":["pageHeaderVideo","phv","document","getElementById","hasSource","getElementsByTagName","vw","Math","max","documentElement","clientWidth","window","innerWidth","source","dataset","mobileSource","desktopSource","el","createElement","extension","split","Array","isArray","length","type","setAttribute","appendChild","onloadeddata","holder","closest","width","height","clientHeight","doProgressiveHeader","canvas","tagName","querySelector","header","id","classList","add","aspectbox","aspectMultiplier","round","leftcrop_px","leftcrop_pct","expectedWidth","gridwidth","startingresolution","ctx","getContext","clearRect","background","Image","blurlevel","src","getAttribute","onload","filter","sizeMultiplier","naturalWidth","drawheight","min","naturalHeight","drawImage","updateImage","currentresolution","counter","Promise","resolve","reject","nextresolution","parseInt","nextimage","checklast","moreimg","hasAttribute","console","log","currentimg","doDismiss","event","dismissable","querySelectorAll","protectedlist","target","item","dismiss","plitem","remove","mobileExpand","button","body","mobilemenu","toggle","contains","mobileMenuClick","menuClick","li","menuitems","getElementsByClassName","stopPropagation","doMenuClicks","menuitem","addEventListener","doMobileMenuClick","burger","bg","accordionClick","title","parent","panel","style","maxHeight","scrollHeight","doAccordionClicks","accordions","accordion","sendit","location","senddata","settings","method","headers","fetch","fetchResponse","json","receivedata","onload_data_fetch","fetchable","url","theme_vars","ajaxurl","nonce","from","map","dofetch","posttype","fetchPosttype","fetchTarget","filters","get_filters","fetchAction","response_target","then","r","status","innerHTML","payload","postit","setupModals","links","link","e","modalLink","targetelement","clone","cloneNode","md","tingle","modal","closeMethods","closeLabel","cssClass","onOpen","onClose","beforeClose","setContent","open","play"],"mappings":"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","file":"js/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./theme/src/js/head.js\");\n","\n\nconst pageHeaderVideo = () => {\n\n  let phv = document.getElementById('pageheadervideo');\n  if(phv){\n    let hasSource = phv.getElementsByTagName('SOURCE');\n    //if(hasSource.length === 0){\n      const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n      let source = (vw < 768) ? phv.dataset.mobileSource : phv.dataset.desktopSource;\n      let el = document.createElement('source');\n      let extension = source.split('.');\n      extension = Array.isArray(extension) ? extension[ extension.length - 1 ] : false;\n      let type = 'video/mp4';\n      if(extension !== 'mp4'){\n        //only ogg and webm will benefit from not having an mp4 tag\n        //.mov, .qt, and all other unsupported video types may use the same codec as mp4 \n        // and not need conversion\n        if(extension == 'ogg') type = 'video/ogg';\n        if(extension == 'webm') type = 'video/webm';\n      }\n      el.setAttribute('type',type);\n      el.setAttribute('src', source);\n      phv.appendChild(el);\n      phv.onloadeddata=function(){\n        let holder = phv.closest('.hero-holder');\n        if(holder){\n          phv.width = holder.clientWidth;\n          phv.height = holder.clientHeight;\n        }\n      }\n      phv.setAttribute('src', source);\n\n    //} else {console.log(hasSource)}\n  }\n\n}\nconst doProgressiveHeader = (canvas) =>{\n    if(!canvas.tagName || canvas.tagName !== \"CANVAS\") {\n        canvas = canvas.querySelector('canvas');\n        if(!canvas) return;\n    }\n    let header = canvas.closest('.hero-holder');\n    if(canvas.id === \"pageheader-0\"){\n      header.classList.add('notfound');\n      return;\n    }\n    //get viewport width;\n    const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n    //get proper aspect ratio\n    /* The theory here is we have a \"fill box\" that always has the proper aspect ratio for each\n    post type header. This fill box will match at desktop resolutions, but at mobile resolutions\n    where the image gets a new aspect ratio thanks to minimum height it will be smaller.  \n    Instead of wasting server resources and bandwidth cropping and storing a new image, we re-crop the image by looking\n    by drawing the picture as big as it should be at current height and crop left appropriately\n    so the image is not stretched. */\n    let aspectbox = document.querySelector('.aspectRatioPlaceholder');\n    aspectbox = aspectbox ? aspectbox.querySelector('.aspect-ratio-fill') : false;\n    let aspectMultiplier = aspectbox ?  aspectbox.clientWidth / aspectbox.clientHeight : false;\n    \n    canvas.height = header.clientHeight;\n    canvas.width = header.clientWidth;\n\n    if(aspectMultiplier){\n      if(Math.round(canvas.width) < (Math.round( canvas.height * aspectMultiplier)) ){\n        //the aspect ratio of the canvas does not match the aspect ratio of the image\n        //cropping is necessary\n\n        leftcrop_px = ((canvas.height * aspectMultiplier) - canvas.width) / 2;\n        leftcrop_pct = Math.round( leftcrop_px / (canvas.height * aspectMultiplier) * 100 ) / 100;\n\n      } else{\n\n        aspectMultiplier = false;\n        leftcrop_pct = 0;\n      }\n    } \n    let expectedWidth = aspectMultiplier ? canvas.height * aspectMultiplier : false;\n\n    let gridwidth = 1512; //width of the design grid - change this per project\n    let startingresolution = Math.round(gridwidth / 4); \n    let ctx = canvas.getContext('2d');\n    ctx.clearRect(0,0, canvas.width, canvas.height);\n    var background = new Image();\n    let blurlevel = 25;\n    //serve blurred thumbnail first then load full image \n    background.src = canvas.getAttribute('data-img-src-1');\n    background.onload = function(){\n      ctx.filter = 'blur('+blurlevel+'px)';\n      let sizeMultiplier = expectedWidth ? background.naturalWidth / expectedWidth : false;\n      let drawheight = sizeMultiplier ? canvas.height * sizeMultiplier : Math.min(canvas.height,background.naturalHeight);\n      if(sizeMultiplier){\n        ctx.drawImage(background, background.naturalWidth * leftcrop_pct, 0, canvas.width * sizeMultiplier, drawheight, 0,0, canvas.width, canvas.height);\n      } else {\n        ctx.drawImage(background, 0,0,canvas.width, canvas.height);\n      }\n      \n      ctx.filter = 'none';\n        //now we have something on the page lets get it into focus\n        updateImage(canvas, ctx, startingresolution, 2, 25, aspectMultiplier, leftcrop_pct, expectedWidth);\n    }\n    //fire off video\n    pageHeaderVideo();\n  }\n  \nconst updateImage = (canvas, ctx, currentresolution = null, counter = null, blurlevel, aspectMultiplier = null, leftcrop_pct, expectedWidth) => {\n\n    return new Promise((resolve, reject) => {\n\n      if(!currentresolution) reject('Must have a resolution');\n      if(!ctx) ctx = canvas.getContext('2d');\n      if(!counter) counter = 1;\n      const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n      if(currentresolution < vw){\n\n        let nextresolution = parseInt(canvas.getAttribute('data-img-size-'+counter));\n        let nextimage = canvas.getAttribute('data-img-src-'+counter);\n        let checklast = 'data-img-size-'+(counter+1);\n        if(nextresolution && nextimage){\n          let moreimg = canvas.hasAttribute(checklast);\n\n          blurlevel = moreimg ? Math.round(blurlevel * .5 ) : 0;\n          background = new Image();\n          background.src = nextimage;\n          background.onload = function(){\n            ctx.filter = blurlevel ? 'blur('+blurlevel+'px)' : 'none';\n            if(aspectMultiplier){\n              \n              let sizeMultiplier = expectedWidth ? background.naturalWidth / expectedWidth : false;\n              let drawheight = sizeMultiplier ? canvas.height * sizeMultiplier : Math.min(canvas.height,background.naturalHeight);\n              if(sizeMultiplier){\n                \n                ctx.drawImage(background, background.naturalWidth * leftcrop_pct, 0, canvas.width * sizeMultiplier, drawheight, 0,0, canvas.width, canvas.height);\n              \n              } else {\n                ctx.drawImage(background,0,0, canvas.width, canvas.height);\n              }\n            } else {\n              ctx.drawImage(background,0,0, canvas.width, canvas.height);\n            }\n            \n            ctx.filter = 'none';\n            if(moreimg) {\n              //  recursive call\n              // setTimeout(() => {\n              //     updateImage(canvas, ctx, nextresolution, counter+1, blurlevel);\n              //     resolve();} , 1500);\n              updateImage(canvas, ctx, nextresolution, counter+1, blurlevel, aspectMultiplier, leftcrop_pct, expectedWidth);\n              resolve();\n            } else { \n                //the end of the line\n                resolve();\n            }\n          }\n        } else {\n        reject('something went wrong');\n        }\n\n      } else { \n        //final run - take off blur\n        console.log(\"expectedWidth\", expectedWidth)\n        currentimg = canvas.getAttribute( 'data-img-src-'+ counter );\n        background = new Image();\n        background.src = currentimg;\n        background.onload = function(){\n          ctx.filter = 'none;'\n          if(aspectMultiplier){\n            console.log('lastrun');\n            console.log(\"expectedWidth\", expectedWidth)\n            let sizeMultiplier = expectedWidth ? background.naturalWidth / expectedWidth : false;\n            console.log(\"sizeMultiplier\", sizeMultiplier);\n            let drawheight = sizeMultiplier ? canvas.height * sizeMultiplier : Math.min(canvas.height,background.naturalHeight);\n            console.log(\"drawheight\", drawheight);\n            console.log(\"startleft\", background.naturalWidth * leftcrop_pct)\n            if(sizeMultiplier){\n              \n              ctx.drawImage(background, background.naturalWidth * leftcrop_pct, 0, canvas.width * sizeMultiplier, drawheight, 0,0, canvas.width, canvas.height);\n            \n            } else {\n              ctx.drawImage(background,0,0, canvas.width, canvas.height);\n            }\n          } else {\n            ctx.drawImage(background,0,0, canvas.width, canvas.height);\n          }\n            resolve(); \n          }\n        }\n    });\n}\n\n/* STILL NEED TO FINISH THESE */\nconst doDismiss = (event) => {\n  let dismissable = document.querySelectorAll(\".active.dismissable\");\n  let protectedlist = event.target.querySelectorAll(\".active.dismissable\");\n  for(let item of dismissable){\n    let dismiss = true;\n    for(let plitem of protectedlist){\n      if(plitem === item) dismiss = false;\n    }\n    if(dismiss) item.classList.remove(\"active\", \"dismissable\");\n  }\n}\nconst mobileExpand = (event) => {\n  let button = event.target;\n  let header = button.closest(\"HEADER\");\n  let body = document.querySelector(\"BODY\");\n  let mobilemenu = header.querySelector('.mobile-menu');\n  if(mobilemenu){\n    body.classList.toggle(\"mobile-menu-expanded\");\n    mobilemenu.classList.toggle(\"active\");\n    if(mobilemenu.classList.contains(\"active\")){\n      mobilemenu.classList.remove(\"slideout\");\n      mobilemenu.classList.add(\"slidein\");\n    } else {\n      mobilemenu.classList.remove(\"slidein\");\n      mobilemenu.classList.add(\"slideout\");\n    }\n  } \n}\nconst mobileMenuClick = event => {\n\n  let button = event.target;\n  let header = button.closest(\"HEADER\");\n  let body = document.querySelector(\"BODY\");\n  let mobilemenu = header.querySelector('.mobile-menu');\n  if(mobilemenu){\n    body.classList.toggle(\"mobile-menu-expanded\");\n    mobilemenu.classList.toggle(\"active\");\n    if(mobilemenu.classList.contains(\"active\")){\n      mobilemenu.classList.remove(\"slideout\");\n      mobilemenu.classList.add(\"slidein\");\n    } else {\n      mobilemenu.classList.remove(\"slidein\");\n      mobilemenu.classList.add(\"slideout\");\n    }\n  } \n}\n\nconst menuClick = (event) => {\n  let li = event.target.tagName === \"LI\" ? event.target : event.target.closest(\"LI\");\n  let menuitems = document.getElementsByClassName('menu-item');\n  for(let item of menuitems){\n    if(item === li){\n      if(li.classList.contains(\"active\")){\n        li.classList.remove(\"active\");\n        li.classList.remove(\"dismissable\");\n      } else {\n        li.classList.add(\"active\");\n        li.classList.add(\"dismissable\");\n        event.stopPropagation();\n      }\n    } else {\n      item.classList.remove(\"active\");\n      item.classList.remove(\"dismissable\");\n\n    }\n  }\n}\n\nconst doMenuClicks = () => {\n  let menuitems = document.getElementsByClassName('menu-item');\n  for(let menuitem of menuitems) menuitem.addEventListener('click', menuClick);\n\n}\nconst doMobileMenuClick = () => {\n  let burger = document.querySelectorAll('.hamburger-menu.mobile-only');\n  if(burger){\n    for(let bg of burger) bg.addEventListener('click', mobileMenuClick );\n  }\n}\n\nconst accordionClick = (event) => {\n  //just in case the plus icon is clicked on this event should cover both with bubbling\n  let title = event.target.tagName === \"H4\" ? event.target : event.target.closest(\"H3\");\n  let parent = title.closest(\".tpt-accordion\");\n  let panel = parent ? parent.querySelector(\".tpt-accordion-panel\") : false;\n  if(title && panel){\n\n    title.classList.toggle(\"expanded\");\n    if(panel.style.maxHeight){\n      panel.style.maxHeight = null;\n    } else {\n      panel.style.maxHeight = panel.scrollHeight + \"px\";\n    }\n  }\n}\nconst doAccordionClicks = () => {\n  let accordions = document.getElementsByClassName(\"tpt-accordion\");\n  if(accordions.length){\n    for(let accordion of accordions){\n      let title = accordion.querySelector(\".accordion\");\n      title.addEventListener('click', accordionClick );\n    }\n  }\n}\n\nconst sendit = async(location, senddata ) => {\n  const settings = {\n      method: 'POST',\n      headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body:senddata\n  };\n  try {\n      const fetchResponse = await fetch(location, settings);\n      const receivedata = await fetchResponse.json();\n      return receivedata;\n  } catch (e) {\n      console.log(e);\n      return e;\n  } \n}\n\nconst onload_data_fetch = () => {\n  let fetchable = document.querySelectorAll('[data-fetch-posttype]');\n  if(! fetchable) {console.log(\"nothing fetchable\");return false;}\n\n  let url = window.theme_vars.ajaxurl;\n  let nonce = window.theme_vars.nonce;\n\n  if(!url || !nonce ) return false;\n  \n  Array.from(fetchable).map( (dofetch) => { \n\n    let posttype = dofetch.dataset.fetchPosttype;\n    let target = dofetch.dataset.fetchTarget;\n    let filters = get_filters(dofetch);\n    let senddata = '&nonce=' + nonce;\n    if( dofetch.hasAttribute('data-fetch-action') && dofetch.dataset.fetchAction ){\n      url+='?action=' + dofetch.dataset.fetchAction + '&nonce=' + nonce;\n      senddata+= filters ? '&' + filters : '';\n      let response_target = document.getElementById(target) ? document.getElementById(target) : dofetch.querySelector('.data-target');\n      if(!response_target) {console.log(\"no data target\"); return false;}\n      console.log(url, senddata);\n      sendit(url, senddata).then( (r)=>{\n          console.log(\"doing postit\");\n          if(r.status === 200){\n              console.log(r);\n              response_target.innerHTML = r.payload;\n          } else {\n              console.log(r);\n          }\n      });\n    } else {console.log('no data fetch action')};\n  });\n}\n/* Standard Wordpress POST request via native fetch using form-urlencoded data */\nconst postit = async(location, senddata ) => {\n  const settings = {\n      method: 'POST',\n      headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body:senddata\n  };\n  try {\n      const fetchResponse = await fetch(location, settings);\n      const receivedata = await fetchResponse.json();\n      return receivedata;\n  } catch (e) {\n      console.log(e);\n      return e;\n  } \n}\n\nconst setupModals = () => {\n  //tingle is the modal library I'm trying out\n  //https://tingle.robinparisi.com/\n  let links = document.querySelectorAll('[data-modal-link]');\n  if(links){\n    for(let link of links){\n      link.addEventListener('click', (e) =>{\n        let target = e.target.dataset.modalLink;\n        let targetelement = target ? document.getElementById(target) : false;\n        if(targetelement){\n            let clone = targetelement.cloneNode()\n\n            var md = new tingle.modal({\n              closeMethods: ['overlay', 'button', 'escape'],\n              closeLabel: \"X\",\n              cssClass: ['nopad'],\n              onOpen: function() {\n                  console.log('modal open');\n              },\n              onClose: function() {\n                  clone.remove();\n              },\n              beforeClose: function() {\n                  // here's goes some logic\n                  // e.g. save content before closing the modal\n                  return true; // close the modal\n                  return false; // nothing happens\n              }\n            });\n            \n            clone.setAttribute(\"controls\", \"controls\");\n            md.setContent( clone  );\n            md.open();\n            clone.play();\n        }\n      });\n    }\n  }\n}\n\n/* sorry webpack */\nwindow.setupModals = setupModals;\nwindow.postit = postit;\nwindow.onload_data_fetch = onload_data_fetch;\nwindow.doProgressiveHeader = doProgressiveHeader;\nwindow.updateImage = updateImage;\nwindow.accordionClick = accordionClick;\nwindow.doAccordionClicks = doAccordionClicks;\nwindow.menuClick = menuClick;\nwindow.doMenuClicks = doMenuClicks;\nwindow.doMobileMenuClick = doMobileMenuClick;"],"sourceRoot":""}